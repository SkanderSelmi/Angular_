<h2 class="page-title">Liste des suggestions</h2>

<input class="search" type="text" placeholder="Rechercher une suggestion" [(ngModel)]="searchText"/>

<div class="card" *ngFor="let s of filteredSuggestions">
  <h3 class="title">{{ s.title }}</h3>

  <div class="meta">
    <span class="cat">{{ s.category }}</span>
    <span class="dot">Â·</span>
    <span class="date">{{ s.date | date:'dd MMM yyyy' }}</span>
  </div>

  <p class="desc">{{ s.description }}</p>

  <span class="badge" [ngClass]="s.status">
    {{ s.status | uppercase }}
  </span>

  <div class="actions" *ngIf="s.status !== 'refusee'">
    <button class="like-btn" (click)="likeSuggestion(s)">
      ğŸ‘ Like {{ s.nbLikes }}
    </button>
    <button class="fav-btn" (click)="addToFavorites(s)">
      â¤ï¸ Ajouter aux favoris
    </button>
    <button class="details-btn" [routerLink]="['/suggestions', s.id]">
      ğŸ“„ Details
    </button>
  </div>
</div>

<div class="favorites-section" *ngIf="favorites.length > 0">
  <h3 class="favorites-title">â­ Favoris</h3>

  <div class="card fav-card" *ngFor="let f of favorites">
    <h4 class="title">{{ f.title }}</h4>

    <div class="meta">
      <span class="cat">{{ f.category }}</span>
    </div>

    <button class="remove-btn" (click)="removeFromFavorites(f)">
      âŒ Retirer
    </button>
  </div>
</div>